<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/controller/subsystem/events - Space Station Effigy</title></head><body><header><a href="index.html">Space Station Effigy</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/controller/subsystem/events.html#var">Var Details</a> - <a href="datum/controller/subsystem/events.html#proc">Proc Details</a></header><main><h1>events <aside>/<a href="datum.html">datum</a>/<a href="datum/controller/subsystem.html">controller/subsystem</a>/<a href="datum/controller/subsystem/events.html">events</a></aside> <a href="https://github.com/effigy-se/effigy-se/blob/586e67d6571ee660ffd44ee9e26003b31ca25573/code/controllers/subsystem/events.dm#L1"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/events.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/controller/subsystem/events.html#var/control">control</a></th><td>list of all datum/round_event_control. Used for selecting events based on weight and occurrences.</td></tr><tr><th><a href="datum/controller/subsystem/events.html#var/currentrun">currentrun</a></th><td>cache of currently running events, for lag checking.</td></tr><tr><th><a href="datum/controller/subsystem/events.html#var/frequency_lower">frequency_lower</a></th><td>The lower bound for how soon another random event can be scheduled.</td></tr><tr><th><a href="datum/controller/subsystem/events.html#var/frequency_upper">frequency_upper</a></th><td>The upper bound for how soon another random event can be scheduled.</td></tr><tr><th><a href="datum/controller/subsystem/events.html#var/previously_run">previously_run</a></th><td>list of previously run events</td></tr><tr><th><a href="datum/controller/subsystem/events.html#var/running">running</a></th><td>list of all existing /datum/round_event currently being run.</td></tr><tr><th><a href="datum/controller/subsystem/events.html#var/scheduled">scheduled</a></th><td>The next world.time that a naturally occurring random event can be selected.</td></tr><tr><th><a href="datum/controller/subsystem/events.html#var/wizardmode">wizardmode</a></th><td>Will wizard events be included in the event pool?</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/controller/subsystem/events.html#proc/Initialize">Initialize</a></th><td>ICES - Intensity Credit Events System</td></tr><tr><th><a href="datum/controller/subsystem/events.html#proc/TriggerEvent">TriggerEvent</a></th><td>Does the last pre-flight checks for the passed event, and runs it if the event is ready.</td></tr><tr><th><a href="datum/controller/subsystem/events.html#proc/resetFrequency">resetFrequency</a></th><td>Sets the event frequency bounds back to their initial value.</td></tr><tr><th><a href="datum/controller/subsystem/events.html#proc/spawnEvent">spawnEvent</a></th><td>Selects a random event based on whether it can occur and its 'weight'(probability)</td></tr><tr><th><a href="datum/controller/subsystem/events.html#proc/toggleWizardmode">toggleWizardmode</a></th><td>Toggles whether or not wizard events will be in the event pool, and sends a notification to the admins.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/control"><aside class="declaration">var </aside>control <aside>– /list</aside> <a href="https://github.com/effigy-se/effigy-se/blob/586e67d6571ee660ffd44ee9e26003b31ca25573/code/controllers/subsystem/events.dm#L6"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/events.dm 6"></a></h3><p>list of all datum/round_event_control. Used for selecting events based on weight and occurrences.</p><h3 id="var/currentrun"><aside class="declaration">var </aside>currentrun <aside>– /list</aside> <a href="https://github.com/effigy-se/effigy-se/blob/586e67d6571ee660ffd44ee9e26003b31ca25573/code/controllers/subsystem/events.dm#L10"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/events.dm 10"></a></h3><p>cache of currently running events, for lag checking.</p><h3 id="var/frequency_lower"><aside class="declaration">var </aside>frequency_lower <aside>– </aside> <a href="https://github.com/effigy-se/effigy-se/blob/586e67d6571ee660ffd44ee9e26003b31ca25573/code/controllers/subsystem/events.dm#L14"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/events.dm 14"></a></h3><p>The lower bound for how soon another random event can be scheduled.</p><h3 id="var/frequency_upper"><aside class="declaration">var </aside>frequency_upper <aside>– </aside> <a href="https://github.com/effigy-se/effigy-se/blob/586e67d6571ee660ffd44ee9e26003b31ca25573/code/controllers/subsystem/events.dm#L16"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/events.dm 16"></a></h3><p>The upper bound for how soon another random event can be scheduled.</p><h3 id="var/previously_run"><aside class="declaration">var </aside>previously_run <aside>– /list</aside> <a href="https://github.com/effigy-se/effigy-se/blob/586e67d6571ee660ffd44ee9e26003b31ca25573/local/code/controllers/subsystem/events.dm#L3"><img src="git.png" width="16" height="16" title="local/code/controllers/subsystem/events.dm 3"></a></h3><p>list of previously run events</p><h3 id="var/running"><aside class="declaration">var </aside>running <aside>– /list</aside> <a href="https://github.com/effigy-se/effigy-se/blob/586e67d6571ee660ffd44ee9e26003b31ca25573/code/controllers/subsystem/events.dm#L8"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/events.dm 8"></a></h3><p>list of all existing /datum/round_event currently being run.</p><h3 id="var/scheduled"><aside class="declaration">var </aside>scheduled <aside>– </aside> <a href="https://github.com/effigy-se/effigy-se/blob/586e67d6571ee660ffd44ee9e26003b31ca25573/code/controllers/subsystem/events.dm#L12"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/events.dm 12"></a></h3><p>The next world.time that a naturally occurring random event can be selected.</p><h3 id="var/wizardmode"><aside class="declaration">var </aside>wizardmode <aside>– </aside> <a href="https://github.com/effigy-se/effigy-se/blob/586e67d6571ee660ffd44ee9e26003b31ca25573/code/controllers/subsystem/events.dm#L18"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/events.dm 18"></a></h3><p>Will wizard events be included in the event pool?</p><h2 id="proc">Proc Details</h2><h3 id="proc/Initialize"><aside class="parent"><a title="/datum/controller/subsystem" href="datum/controller/subsystem.html#proc/Initialize">↑</a></aside>Initialize<aside>()  <a href="https://github.com/effigy-se/effigy-se/blob/586e67d6571ee660ffd44ee9e26003b31ca25573/local/code/modules/events/ev_config.dm#L21"><img src="git.png" width="16" height="16" title="local/code/modules/events/ev_config.dm 21"></a></aside></h3><p>ICES - Intensity Credit Events System</p>
<p>This file is used to denote weight and frequency
for events to be spawned by the system.</p>
<p>Event subsystem</p>
<p>Overriden min and max start times
to accomodate for much longer rounds</p><h3 id="proc/TriggerEvent"><aside class="declaration">proc </aside>TriggerEvent<aside>(/<a href="datum.html">datum</a>/<a href="datum/round_event_control.html">round_event_control</a>/event_to_trigger)  <a href="https://github.com/effigy-se/effigy-se/blob/586e67d6571ee660ffd44ee9e26003b31ca25573/code/controllers/subsystem/events.dm#L103"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/events.dm 103"></a></aside></h3><p>Does the last pre-flight checks for the passed event, and runs it if the event is ready.</p><h3 id="proc/resetFrequency"><aside class="declaration">proc </aside>resetFrequency<aside>()  <a href="https://github.com/effigy-se/effigy-se/blob/586e67d6571ee660ffd44ee9e26003b31ca25573/code/controllers/subsystem/events.dm#L117"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/events.dm 117"></a></aside></h3><p>Sets the event frequency bounds back to their initial value.</p><h3 id="proc/spawnEvent"><aside class="declaration">proc </aside>spawnEvent<aside>(/<a href="datum.html">datum</a>/<a href="datum/round_event_control.html">round_event_control</a>/excluded_event)  <a href="https://github.com/effigy-se/effigy-se/blob/586e67d6571ee660ffd44ee9e26003b31ca25573/code/controllers/subsystem/events.dm#L74"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/events.dm 74"></a></aside></h3><p>Selects a random event based on whether it can occur and its 'weight'(probability)</p>
<p>Arguments:</p>
<ul>
<li>excluded_event - The event path we will be foregoing, if present.</li>
</ul><h3 id="proc/toggleWizardmode"><aside class="declaration">proc </aside>toggleWizardmode<aside>()  <a href="https://github.com/effigy-se/effigy-se/blob/586e67d6571ee660ffd44ee9e26003b31ca25573/code/controllers/subsystem/events.dm#L111"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/events.dm 111"></a></aside></h3><p>Toggles whether or not wizard events will be in the event pool, and sends a notification to the admins.</p></main><footer>tgstation.dme <a href="https://github.com/effigy-se/effigy-se/tree/586e67d6571ee660ffd44ee9e26003b31ca25573">586e67d</a> (main) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>